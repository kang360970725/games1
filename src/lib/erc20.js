"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function erc20At(address,web3){if(web3.isAddress(address)){var erc20abi=void 0;erc20abi="0x86fa049857e0209aa7d9e616f7eb3b3b78ecfdb0"===address.toLowerCase().trim()?abis.eos:abis.erc20;var c=web3.eth.contract(erc20abi);return c=c.at(address),c=new Contract(c),c.totalSupply().then(function(){return c})["catch"](function(err){return _promise2["default"].reject(errors.NOT_ERC20)})}return _promise2["default"].reject(errors.INVALID_ADDRESS)}function erc20Stat(erc20,owner){var stat={totalSupply:0,address:null,symbol:null,decimals:0,balance:0};return erc20.decimals().then(function(_decimal){return stat.decimals=_decimal.toNumber(),erc20.totalSupply()}).then(function(_supply){return stat.totalSupply=_supply.dividedBy(Math.pow(10,stat.decimals)),erc20.symbol()}).then(function(_symbol){return stat.symbol=_symbol,stat.address=erc20.instance.address,owner?erc20.balanceOf(owner).then(function(_balance){return stat.balance=_balance.dividedBy(Math.pow(10,stat.decimals)),stat}):stat})}var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise),Contract=require("./contract"),abis=require("./abi"),errors=require("./errors");exports.erc20At=erc20At,exports.erc20Stat=erc20Stat;